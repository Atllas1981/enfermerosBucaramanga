---
const phoneNumber = "573017205354";

const cities = [
  { value: "bucaramanga", label: "Bucaramanga" },
  { value: "floridablanca", label: "Floridablanca" },
  { value: "giron", label: "Girón" },
  { value: "piedecuesta", label: "Piedecuesta" },
];

const services = [
  { value: "postoperatorio", label: "Cuidados postoperatorios" },
  { value: "curaciones", label: "Curaciones complejas" },
  { value: "medicamentos", label: "Administración de medicamentos" },
  { value: "dispositivos", label: "Manejo de dispositivos médicos" },
  { value: "adultos", label: "Atención a adultos mayores" },
  { value: "paliativos", label: "Cuidados paliativos" },
  { value: "sueroterapia", label: "Sueroterapia Post-Party" },
  { value: "otro", label: "Otro servicio" },
];
---

<section id="contacto" class="py-20 bg-white">
  <div class="container mx-auto px-4">

    <!-- Encabezado SEO -->
    <header class="text-center mb-12 animate-fade-in">
      <h2 class="text-3xl md:text-4xl font-bold text-[hsl(210_20%_20%)] mb-4">
        Contáctanos
      </h2>
      <p class="text-xl text-[hsl(210_15%_45%)]">
        Atención de enfermería a domicilio en Bucaramanga y su área metropolitana
      </p>
    </header>

    <div class="grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto">

      <!-- Formulario -->
      <div class="p-8 border-[hsl(210_20%_90%)] shadow-[0_4px_20px_-2px_hsl(210_20%_20%_/_0.08)] rounded-lg bg-white">
        <form id="contactForm" class="space-y-6" aria-label="Formulario de contacto de enfermería a domicilio">

          <div>
            <label for="name" class="block font-medium text-[hsl(210_20%_20%)] mb-1">
              Nombre completo *
            </label>
            <input
              id="name"
              name="name"
              type="text"
              placeholder="Tu nombre"
              required
              class="w-full px-4 py-2 border border-[hsl(210_20%_90%)] rounded-md focus:ring-2 focus:ring-[hsl(205_65%_45%)]"
            />
          </div>

          <div>
            <label for="phone" class="block font-medium text-[hsl(210_20%_20%)] mb-1">
              Teléfono *
            </label>
            <input
              id="phone"
              name="phone"
              type="tel"
              placeholder="301 720 5354"
              required
              class="w-full px-4 py-2 border border-[hsl(210_20%_90%)] rounded-md focus:ring-2 focus:ring-[hsl(205_65%_45%)]"
            />
          </div>

          <div>
            <label for="city" class="block font-medium text-[hsl(210_20%_20%)] mb-1">
              Ciudad *
            </label>
            <select
              id="city"
              name="city"
              required
              class="w-full px-4 py-2 border border-[hsl(210_20%_90%)] rounded-md focus:ring-2 focus:ring-[hsl(205_65%_45%)]"
            >
              <option value="">Selecciona tu ciudad</option>
              {cities.map(city => (
                <option value={city.value}>{city.label}</option>
              ))}
            </select>
          </div>

          <div>
            <label for="service" class="block font-medium text-[hsl(210_20%_20%)] mb-1">
              Tipo de servicio *
            </label>
            <select
              id="service"
              name="service"
              required
              class="w-full px-4 py-2 border border-[hsl(210_20%_90%)] rounded-md focus:ring-2 focus:ring-[hsl(205_65%_45%)]"
            >
              <option value="">Selecciona un servicio</option>
              {services.map(service => (
                <option value={service.value}>{service.label}</option>
              ))}
            </select>
          </div>

          <div>
            <label for="message" class="block font-medium text-[hsl(210_20%_20%)] mb-1">
              Mensaje adicional (opcional)
            </label>
            <textarea
              id="message"
              name="message"
              rows="4"
              placeholder="Cuéntanos más sobre tu caso..."
              class="w-full px-4 py-2 border border-[hsl(210_20%_90%)] rounded-md focus:ring-2 focus:ring-[hsl(205_65%_45%)]"
            ></textarea>
          </div>

          <button
            type="submit"
            class="w-full bg-[hsl(205_65%_35%)] hover:bg-[hsl(205_65%_45%)] text-white font-semibold py-3 rounded-md transition"
          >
            Enviar solicitud
          </button>

          <p class="text-sm text-center text-[hsl(210_15%_45%)]">
            Al enviar, serás redirigido a WhatsApp para completar tu solicitud
          </p>
        </form>
      </div>

      <!-- Información lateral -->
      <aside class="space-y-6">

        <div class="p-6 border-[hsl(210_20%_90%)] shadow rounded-lg">
          <h3 class="font-semibold mb-2">Área de cobertura</h3>
          <p>Bucaramanga, Floridablanca, Girón y Piedecuesta</p>
        </div>

        <div class="p-6 border-[hsl(210_20%_90%)] shadow rounded-lg">
          <h3 class="font-semibold mb-2">WhatsApp</h3>
          <p>+57 301 720 5354</p>
          <p class="text-sm text-[hsl(210_15%_45%)]">
            Respuesta inmediata en horario laboral
          </p>
        </div>

        <div class="p-6 border-[hsl(210_20%_90%)] shadow rounded-lg">
          <h3 class="font-semibold mb-2">Email</h3>
          <p>contacto@enfermeria-bucaramanga.com</p>
          <p class="text-sm text-[hsl(210_15%_45%)]">
            Respuesta en 24–48 horas
          </p>
        </div>

        <div
          class="p-6 rounded-lg text-white"
          style="background: linear-gradient(135deg, hsl(145 60% 45%), hsl(145 60% 55%));"
        >
          <h3 class="font-semibold mb-2">¿Necesitas atención urgente?</h3>
          <p class="mb-4">Contáctanos por WhatsApp para una respuesta inmediata</p>
          <button
            id="urgentButton"
            type="button"
            class="w-full bg-white/10 hover:bg-white/20 border border-white/30 py-2 rounded-md transition"
          >
            Contactar ahora
          </button>
        </div>

      </aside>
    </div>
  </div>
</section>

<script is:client>
  const phoneNumber = "573017205354";

  document.getElementById("urgentButton")?.addEventListener("click", () => {
    window.open(`https://wa.me/${phoneNumber}?text=Necesito atención urgente de enfermería a domicilio`, "_blank");
  });

  document.getElementById("contactForm")?.addEventListener("submit", (e) => {
    e.preventDefault();
    const data = new FormData(e.target);
    const text = encodeURIComponent(
      `Hola, mi nombre es ${data.get("name")}\n` +
      `Teléfono: ${data.get("phone")}\n` +
      `Ciudad: ${data.get("city")}\n` +
      `Servicio: ${data.get("service")}\n` +
      `Mensaje: ${data.get("message") || "N/A"}`
    );
    window.open(`https://wa.me/${phoneNumber}?text=${text}`, "_blank");
  });
</script>
